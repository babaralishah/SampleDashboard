<div class="container-fluid">
    <div class="row">
        <div class="col-6" *ngIf="isFileSelected">
            <div class="row">
                <h2>Data File Selection</h2>
            </div>
            <br><br>
            <div class="row">
                <input #fileInput name="file" type="file" (change)="handleFileInput($event.target.files)">
            </div>
            <br><br>
            <div class="row">
                <!-- *ngIf="results" -->
                <button class="btn btn-primary" (click)="performPreprocessing()">Proceed Next for <b>Cleansing/Preprocessing</b></button>
            </div>
        </div>
        <div class="col-1" *ngIf="isFileSelected">
            <div class="vl"></div>
        </div>
        <div class="col-3" *ngIf="isFileSelected">
            <h2>workspace</h2>
            <ul>
                <li>file 1</li>
                <li>file 2</li>
                <li>file 32</li>
                <li>file 55</li>
            </ul>
            <button class="btn btn-group" (click)="performPreprocessing()">Choose File to Perform</button>
        </div>
    </div>
    <!-- <div class="row"> -->
    <div class="row" *ngIf="isPreProcess">
        <div class="col-12">
            <h2>Preprocessing</h2>
        </div>
        <div class="col-12">
            <br>Data File Cleansing been Performing....
            <br><br>
        </div>
        <table id="results" class="table table-striped">
            <thead>
                <tr>
                    <th>preprocesstechnique</th>
                    <th>preprocesstime</th>
                </tr>

                <tr *ngFor="let row of preProcessTech">
                    <td>{{row.preprocesstechnique}}</td>
                    <td>{{row.preprocesstime}}</td>
                </tr>
            </thead>

        </table>

        <br><br>

        <div class="col-3" *ngIf="preProcessTech">
            <button class="btn btn-primary" (click)="performAlgoSelection()"> Proceed for <b>Algorithm Selection</b></button>
        </div>
        <div class="col-3" *ngIf="preProcessTech">
            <button class="btn btn-primary" (click)="backToFileInput()">back</button>
        </div>
    </div>
    <div *ngIf="isAlgoSelected">

        <h2>Algorithms</h2>
        <br>

        <h4>Select the Algorithm for Prediction</h4>

        <div class="row">
            <div class="col-12">

                <!-- <div *ngFor="let row of results"> -->
                <!-- <button class="btn3 btn-primary" (click)="singlePrediction(row.Algorithm)">{{row.Algorithm}}</button> -->
                <button class="btn3 btn-primary" (click)="singlePrediction('1')">Linear Regression</button>
                <br>
                <button class="btn3 btn-primary" (click)="singlePrediction('2')">Logistic Regression</button>
                <br>
                <button class="btn3 btn-primary" (click)="singlePrediction('3')">Decision Tree</button>
                <br>
                <button class="btn3 btn-primary" (click)="singlePrediction('4')">K nearest neighbor</button>
                <br>
                <button class="btn3 btn-primary" (click)="singlePrediction('5')">Naive Bayes</button>
                <br>
                <button class="btn3 btn-primary" (click)="singlePrediction('6')">Random Forest</button>
                <br>
                <!-- <button class="btn3 btn-primary" (click)="singlePrediction('7')">Support Vector Machine</button> -->
                <br>
                <!-- </div> -->

                <table class="table table-striped ">
                    <thead>
                        <tr>
                            <th>Algorithm</th>
                            <!-- <th>Training Time</th> -->
                        </tr>

                        <!-- <tr *ngFor="let row of results">
                            <td>{{row.Algorithm}}</td>
                            <td>{{row.TrainingTime}}</td>
                        </tr> -->
                    </thead>

                </table>
            </div>
        </div>
    </div>


    <div class="row" *ngIf="isAlgoSelected && results">
        <div class="col-3">
            <button class="btn btn-primary" (click)="performTraining()"> Proceed for <b>Model Training</b></button></div>

        <div class="col-3">
            <button class="btn btn-primary" (click)="performPrediction()"> Proceed for <b>All Model Training</b></button>
        </div>
        <!-- <button class="btn btn-primary" (click)="performPrediction()"> Proceed next for <b>Prediction</b></button></div> -->

        <div class="col-3">
            <button class="btn btn-primary" (click)="performPreprocessing()">back</button>
        </div>
    </div>

</div>

<div *ngIf="isTraining">

    <h2>Model Training..</h2>
    <br>

    <!-- <h4>Select the Algorithm for Prediction</h4> -->

    <div class="row">
        <div class="col-12">
            <br>
            <p>model is been under training</p>
            <br>
            <table id="results" class="table table-striped">
                <thead>
                    <tr>
                        <th *ngFor="let column of headers1">
                            {{column}}
                        </th>
                    </tr>

                    <tr *ngFor="let row of results">
                        <td *ngFor="let col of headers1">
                            <span *ngIf="row === selectedAlgorithm"></span>{{row[col]}}
                        </td>
                    </tr>
                </thead>

            </table>

        </div>
    </div>

    <div class="row" *ngIf="isTraining">
        <div class="col-3">
            <!-- <button class="btn btn-primary" (click)="performTraining()"> Proceed for <b>Machine Training</b></button></div> -->
            <button class="btn btn-primary" (click)="performPrediction()"> Proceed next for <b>Prediction</b></button></div>

        <div class="col-3">
            <button class="btn btn-primary" (click)="performAlgoSelection()">back</button>
        </div>
    </div>
</div>

<!-- Prediction Results in the Data Table -->
<div class="row" *ngIf="isPrediction">
    <h2>All ML Model Training</h2>
    <table id="results" class="table table-striped">
        <thead>
            <tr>
                <th *ngFor="let column of headers1">
                    {{column}}
                </th>
            </tr>

            <tr *ngFor="let row of results">
                <td *ngFor="let col of headers1">
                    {{row[col]}}
                </td>
            </tr>
        </thead>

    </table>
    <br>
</div>
<div class="row" *ngIf="isPrediction && results">
    <div class="col-2">
        <button class="btn btn-primary" (click)="backToPrediction()">back</button>
    </div>

    <div class="col-3">
        <button class="btn btn-primary" (click)="performAlgoSelection()">back to <b>Alogrothm Selection</b></button>

    </div>
    <div class="col-3">
        <button class="btn btn-primary" routerLink="/Visualization">Go for <b>Visualization</b></button>

    </div>
</div>